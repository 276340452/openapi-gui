<div class="accordion-group">
    <div class='accordion-heading'>

        <a class="icon" data-toggle="collapse" :data-target="hashUid" v-on:click="toggleBody()">
            <i class="fa fa-reorder accordion-handle method-handle"></i>
        </a>

        <span>Operation:
            <span class="icon"><i class="fa fa-fw fa-plus"></i></span>
            <a class='icon' v-on:click="duplicateOperation(method)">
                <i class="fa fa-fw fa-copy"></i>
            </a>
            <a class='icon is-danger' v-on:click="removeOperation(index)">
                <i class="fa fa-fw fa-trash"></i>
            </a>
            <a class="accordion-toggle" data-toggle="collapse" :data-target="hashUid" v-on:click="toggleBody()">
                <span class='methodNameSpan'>{{httpMethod}} {{method.operationId}}</span>
            </a>
        </span>

        <div class="accordion-buttons">
            <div class="block-container">
                <a v-on:click="addParameter()" class='button is-success'>
                    <i class='fa fa-fw fa-plus'></i>Parameter
                </a>
            </div>
        </div>
    </div>
    <div class="accordion-body collapse method-body" :id="_uid">
        <div v-if="visible" class="accordion-inner">

            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> HTTP Method (GET, POST, PUT, etc) </label>
                <div class='control field-body'>
                    <select class='select' v-model="httpMethod">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="HEAD">HEAD</option>
                        <option value="PATCH">PATCH</option>
                        <option value="OPTIONS">OPTIONS</option>
                        <option value="TRACE">TRACE</option>
                    </select>
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> OperationId </label>
                <div class='field-body'>
                    <input class='input methodName' v-model="method.operationId">
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='is-normal label field-label'> Summary </label>
                <div class='field-body'>
                    <input class="input" v-model="method.summary">
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> Description </label>
				<div class="field-body">
                	<textarea class="textarea" v-model="method.description"></textarea>
				</div>
            </div>
            <div class='field is-horizontal'>
                <label class='field-label is-normal'> Tags </label>
                <div class='field-body'>
                    <select :id="tagId" class="select" multiple v-model='vtags'>
                        <option v-for="tag in maintags" :value='tag.name'>{{tag.name}}</option>
                    </select>
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='field-label label is-normal'> Deprecated </label>
                <div class='field-body'>
                    <input type='checkbox' class='checkbox' v-model='method.deprecated'>
                </div>
            </div>
            <details>
                <summary><b>External Docs</b></summary>
                <div class="box">
                    <div class='field is-horizontal'>
                        <label class='label field-label is-normal'> Docs Description </label>
                        <div class='field-body'>
                            <textarea class="textarea" v-model="method.externalDocs.description"></textarea>
                        </div>
                    </div>
                    <div class='field is-horizontal'>
                        <label class='label field-label is-normal'> Docs URL </label>
                        <div class='field-body'>
                            <input type="url" class="input" v-model="method.externalDocs.url">
                        </div>
                    </div>
                </div>
            </details>
            <div class="none">
                <div class="sortable-params" v-for="(parameter,index) in method.parameters">
                    <api-parameter :parameter="parameter" :index='index'></api-parameter>
                </div>
            </div>
            <div class="box">
                <a v-on:click="addResponse()" class="button is-success"><i class="fa fa-add"></i> Add Response</a>
                <br>
                <br>
                <api-response v-for="(response, status) in method.responses"
                    :response="response" :key="status" :status="status" :method="method" inline-template>
                    <div class="box">
                        <div class='field is-horizontal is-grouped'>
                            <div class="control">
                                <label class='label field-label is-normal'>Status&nbsp;Code </label>
                            </div>
                            <div class="field">
                                <div class='field-body'>
                                    <input class="input" size="3" v-model.lazy="statusCode">
                                </div>
                            </div>
                            <div class="control">
                                <label class='label field-label is-normal'>&nbsp;Description</label>
                            </div>
                            <div class="control is-expanded">
                                <div class='field-body'>
                                    <input class="input" v-model="response.description">
                                </div>
                            </div>
                            <div class="control">
                                <a v-on:click="editResponse(status)" class='button is-success'><i class='fa fa-fw fa-edit'></i>Edit Schema</a>
                            </div>
                            <div class="control">
                                <a v-on:click="removeResponse()" class='button is-danger'><i class='fa fa-fw fa-trash'></i>Delete</a>
                            </div>
                        </div>
                    </div>
                </api-response>
            </div>
        </div>
    </div>
</div>
