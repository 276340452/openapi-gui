<div class="accordion-group">
    <div class='accordion-heading'>

        <i class="fa fa-reorder accordion-handle method-handle"></i>

        <a class="accordion-toggle" data-toggle="collapse" :data-target="hashUid" v-on:click="toggleBody()">
            Operation: <span class='methodNameSpan'>{{httpMethod}} {{method.operationId}}</span>
        </a>

        <div class="accordion-buttons">
            <div class="block-container">
                <a v-on:click="addParameter()" class='button is-success'>
                    <i class='fa fa-plus'></i> Parameter
                </a>

                <a class='button is-success' v-on:click="duplicateOperation(method)">
                    <i class='fa fa-copy'></i> Duplicate
                </a>

                <a class='button is-danger' v-on:click="removeOperation(index)">
                    <i class='fa fa-trash'></i> Delete
                </a>

            </div>
        </div>
    </div>
    <div class="accordion-body collapse method-body" :id="_uid">
        <div v-if="visible" class="accordion-inner">

            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> HTTP Method (GET, POST, PUT, etc) </label>
                <div class='field-body is-horizontal'>
                    <select class='select' v-model="httpMethod">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="HEAD">HEAD</option>
                        <option value="PATCH">PATCH</option>
                        <option value="OPTIONS">OPTIONS</option>
                        <option value="TRACE">TRACE</option>
                    </select>
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> OperationId </label>
                <div class='field-body'>
                    <input class='input methodName' v-model="method.operationId">
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='is-normal label field-label'> Summary </label>
                <div class='field-body'>
                    <input class="input" v-model="method.summary">
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='label field-label is-normal'> Description </label>
				<div class="field-body">
                	<textarea class="textarea" v-model="method.description"></textarea>
				</div>
            </div>
            <div class='field is-horizontal'>
                <label class='field-label is-normal'> Tags </label>
                <div class='field-body'>
                    <select :id="tagId" class="select" multiple v-model='vtags'>
                        <option v-for="tag in maintags" :value='tag.name'>{{tag.name}}</option>
                    </select>
                </div>
            </div>
            <div class='field is-horizontal'>
                <label class='field-label label is-normal'> Deprecated </label>
                <div class='field-body'>
                    <input type='checkbox' class='checkbox' v-model='method.deprecated'>
                </div>
            </div>
            <details>
                <summary><b>External Docs</b></summary>
                <div class="box">
                    <div class='field is-horizontal'>
                        <label class='label field-label is-normal'> Docs Description </label>
                        <div class='field-body'>
                            <textarea class="textarea" v-model="method.externalDocs.description"></textarea>
                        </div>
                    </div>
                    <div class='field is-horizontal'>
                        <label class='label field-label is-normal'> Docs URL </label>
                        <div class='field-body'>
                            <input type="url" class="input" v-model="method.externalDocs.url">
                        </div>
                    </div>
                </div>
            </details>
            <div class="none">
                <div class="sortable-params" v-for="(parameter,index) in method.parameters">
                    <api-parameter :parameter="parameter" :index='index'></api-parameter>
                </div>
            </div>
            <div class="box">
                <a v-on:click="addResponse()" class="button is-success"><i class="fa fa-add"></i> Add Response</a>
                <br>
                <br>
                <api-response v-for="(response, status) in method.responses" :response="response" :status="status" inline-template>
                    <div class="box">
                        <div class='field is-horizontal'>
                            <label class='label field-label is-normal'> Status Code </label>
                            <div class='field-body'>
                                <input class="input" v-model.lazy="status">
                                <a v-on:click="editResponse(status)" class='button is-success'><i class='fa fa-edit'></i> Edit Schema</a>
                                <a v-on:click="removeResponse(status)" class='button is-danger'><i class='fa fa-trash'></i> Delete</a>
                            </div>
                        </div>
                        <div class='field is-horizontal'>
                            <label class='label field-label is-normal'> Description </label>
                            <div class='field-body'>
                                <input class="input" v-model="response.description">
                            </div>
                        </div>
                    </div>
                </api-response>
            </div>
        </div>
    </div>
</div>
