<div class="accordion parameter">
	<div class="accordion-group">
		<div class='accordion-heading'>

			<i class="icon-reorder accordion-handle param-handle"></i>

			<a class="accordion-toggle" data-toggle="collapse" :data-target="hashUid" onclick="$(this).collapse('toggle')">
                Parameter: <span class='methodNameSpan'>{{parameter.name}}</span>
            </a>

			<div class="accordion-buttons">
				<div class="block-container">
					<div>
						<a v-if="isComplex()" class='btn btn-info' ng-click="$ctrl.addProperty()">
							<i class='icon-plus icon-white'></i> Add Property
						</a>
						<a class='btn btn-danger' v-on:click="removeParameter()">
							<i class='icon-trash icon-white'></i> Delete
						</a>
					</div>
				</div>
			</div>
		</div>
		<div class="accordion-body collapse" :id="_uid">
			<div class="accordion-inner">

				<div class='control-group'>
					<label class='control-label'> Parameter Name </label>
					<div class='controls'>
						<input v-model="parameter.name" required/>
					</div>
				</div>
				<div class='control-group'>
					<label class='control-label'> Description </label>
					<div class='controls'>
						<textarea v-model="parameter.description" class="span8"></textarea>
					</div>
				</div>
				<div class='control-group'>
					<label class='control-label'> Required </label>
					<div class='controls'>
						<select v-model="effectiveRequired" required size="2">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
					</div>
				</div>
				<div class='control-group'>
					<label class='control-label'> Location </label>
					<div class='controls'>
						<select v-model="effectiveIn" required size="3">
                            <option value="path">Path</option>
                            <option value="query">Query</option>
                            <option value="header">Header</option>
                            <option value="body">Body</option>
                            <option value="form">Form</option>
                        </select>
					</div>
				</div>
				<div class='control-group'>
					<label class='control-label'> Data Type </label>
					<div class='controls'>
						<select v-model="effectiveType" required size="5">
                            <option value="boolean">boolean</option>
                            <option value="string">string</option>
                            <option value="integer">integer</option>
                            <option value="number">number</option>
                            <option value="array">array</option>
                            <option value="file">file</option>
                            <option value="object">object</option>
                        </select>
					</div>
				</div>
				<div class='control-group' v-if="!isComplex()">
					<label class='control-label'> Default Value </label>
					<div class='controls'>
						<input v-model="parameter.default" />
					</div>
					<!-- TODO enums -->
				</div>
				<div class='control-group' v-if="effectiveFormats.length">
					<label class='control-label'> Format </label>
					<div class='controls'>
						<input type="text" v-model="parameter.format" :list="formatListId" />
						<datalist :id="formatListId">
                          <option v-for="option in effectiveFormats">{{option}}</option>
                        </datalist>
					</div>
				</div>
				<div v-if="parameter.type == 'string'">
					<div class='control-group'>
						<label class='control-label'> Min. Length </label>
						<div class='controls'>
							<input type="number" min="0" step="1" v-model="parameter.minLength" />
						</div>
						<label class='control-label'> Max. Length </label>
						<div class='controls'>
							<input type="number" min="0" step="1" v-model="parameter.maxLength" />
						</div>
					</div>
				</div>
				<div v-if="parameter.type == 'integer' || parameter.type == 'number'">
					<div class='control-group'>
						<label class='control-label'> Minimum </label>
						<div class='controls'>
							<input type="number" v-model="parameter.minimum" />
						</div>
						<label class='control-label'> Min. Exclusive </label>
						<div class='controls' class="span8">
							<input type="checkbox" v-model="parameter.minExclusive" />
						</div>
					</div>
					<div class='control-group'>
						<label class='control-label'> Maximum </label>
						<div class='controls'>
							<input type="number" v-model="parameter.maximum" />
						</div>
						<label class='control-label'> Max. Exclusive </label>
						<div class='controls' class="span8">
							<input type="checkbox" v-model="parameter.maxExclusive" />
						</div>
					</div>
					<div class='control-group'>
						<label class='control-label'> Multiple Of </label>
						<div class='controls'>
							<input type="number" v-model="parameter.multipleOf" />
						</div>
					</div>
				</div>

				<div v-if="parameter.type == 'array'">
					<!-- type, format, [items], minItems, maxItems, uniqueItems  ... -->
					<div class='control-group'>
						<label class='control-label'> Item Type </label>
						<div class='controls'>
							<input v-model="parameter.items.type" />
							<!-- "string", "number", "integer", "boolean", or "array" -->
						</div>
					</div>
					<div class='control-group'>
						<label class='control-label'> Collection Delimiter </label>
						<div class='controls'>
							<select v-model="parameter.collectionFormat" required size="2">
								<option value="csv">Comma</option>
								<option value="tsv">Tab</option>
								<option value="ssv">Space</option>
								<option value="pipes">Pipe</option>
								<option value="multi">Multiple</option>
							</select>
						</div>
					</div>
					<div class='control-group'>
						<label class='control-label'> Min. Items </label>
						<div class='controls'>
							<input type="number" min="0" step="1" v-model="parameter.minItems" />
						</div>
						<label class='control-label'> Max. Items </label>
						<div class='controls'>
							<input type="number" min="0" step="1" v-model="parameter.maxItems" />
						</div>
						<label class='control-label'> Unique Items </label>
						<div class='controls' class="span8">
							<input type="checkbox" v-model="parameter.uniqueItems" />
						</div>
					</div>
				</div>

				<div class='control-group'>
					<!-- TODO was sortable-params -->
					<div class="sortable-properties" v-for="property in parameter.properties">
						<api-property property="property"></api-property>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>
