<!doctype html>
<html lang="en">

<head>
  <title>OpenAPI-GUI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/font-awesome.min.css" rel="stylesheet">
  <link href="css/app.css" rel="stylesheet">
  <link href="css/ribbon.css" rel="stylesheet">
  <link href="css/bootstrap-tagsinput.css" rel="stylesheet">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/github.min.css">

  <script type='text/javascript' src='js/jquery.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.5/clipboard.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <script type='text/javascript' src='js/bootstrap.min.js'></script>
  <script type='text/javascript' src="js/js-yaml.min.js"></script>
  <script type='text/javascript' src="js/bootbox.min.js"></script>
  <script type='text/javascript' src="js/jsonpatch.js"></script>
  <script type='text/javascript' src="js/bootstrap-tagsinput.min.js"></script>
  <script type='text/javascript' src="example/petstore.js"></script>
  <script type='text/javascript' src="js/vue.js"></script>

  <script src="src/resource/resource.js"></script>
  <script src="src/method/method.js"></script>
  <script src="src/parameter/parameter.js"></script>
  <script src="src/items/items.js"></script>
  <script src="src/app/gui.js"></script>

  <script src="src/api-definition/api-definition.js"></script>
  <script src="src/api-yaml/api-yaml.js"></script>

  <script src="src/app/app.js"></script>

</head>

<body>
  <div id='loading'>
    <div class="alert">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Please wait!</strong> OpenAPI-GUI is loading...
    </div>
  </div>
  <div id="main-container">
    <gui-main :openapi='container.openapi' :importschema='importschema'></gui-main>
  </div>
  <script>
      $(document).ready(function(){

        // Create the Deferred instances that can be handed to $.when()
        var def = [];
        for (t=0;t<7;t++) {
          def.push($.Deferred());
        }

        // Set up the chain of events...
        $.when(def[0], def[1], def[2], def[3], def[4], def[5], def[6]).then(function() {
          $('#loading').hide();
          app_main();
        });

        // And finally: Make the actual ajax calls:
        $('#template-gui-main').load('src/app/gui.html', function() { def[0].resolve(); });
        $('#template-resource').load('src/resource/resource.html', function() { def[1].resolve(); });
        $('#template-method').load('src/method/method.html', function() { def[2].resolve(); });
        $('#template-parameter').load('src/parameter/parameter.html', function() { def[3].resolve(); });
        $('#template-definition').load('src/api-definition/output.html', function() { def[4].resolve(); });
        $('#template-yaml').load('src/api-yaml/output.html', function() { def[5].resolve(); });
        $('#template-items').load('src/items/items.html', function() { def[6].resolve(); });
      });
  </script>
  <div style='display:none'>
    <div id="template-gui-main"></div>
    <div id="template-resource"></div>
    <div id="template-method"></div>
    <div id="template-parameter"></div>
    <div id="template-definition"></div>
    <div id="template-yaml"></div>
    <div id="template-items"></div>
  </div>
</body>

</html>